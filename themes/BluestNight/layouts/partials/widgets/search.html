{{- if $.Site.Params.widgets.search -}}
{{- range $format := (.Site.GetPage "home").OutputFormats -}}
  {{ if eq $format.Name "JSON" }}
    {{- $.Scratch.Set "found" true -}}
  {{ end }}
{{- end -}}
{{- if not (.Scratch.Get "found") -}}
  {{- errorf "\"home\" needs to have an output format of \"JSON\" for search to work!" -}}
{{- end -}}
<div class="widget" id="search-container">
  <header>
		<span class="widget-header"><span class="fa fa-search"></span> Search</span>
	</header>
	<input type="search" name="search" id="searchbox" placeholder="Search..." autocomplete="off"/>
  <div id="search-results" class="hide"></div>
</div>
{{- end -}}
